<div *ngIf="isLoading" class="h-100">
  <ngxs-loader [isInherit]="true"></ngxs-loader>
</div>

<div *ngIf="!isLoading" class="card">
  <!-- Card Header -->
  <div class="card-header d-flex w-100">
    <div class="mr-auto d-flex flex-row w-50">
      <span *ngIf="!showSummary" class="w-25">Page {{page?.orderNo}} of {{pageSize}}</span>
      <span *ngIf="showSummary">Survey Summary</span>
    </div>
  </div>
  <!-- #/Card Header -->

  <!-- Card Body -->
  <div class="card-body">
    <div *ngIf="!showSummary">
      <ngxs-page-viewer-container
        [page]="page"
      ></ngxs-page-viewer-container>
    </div>
    <div *ngIf="showSummary">
      <ngxs-survey-summary-viewer
        [survey]="survey"
      ></ngxs-survey-summary-viewer>
    </div>
  </div>
  <!-- #/Card Body -->

  <!-- Card Footer -->
  <div class="card-footer d-flex w-100">
    <div class="mr-auto">
      <button type="button" class="btn btn-primary btn-lg" [disabled]="!pagePrev" [routerLink]="'/viewer/' + pagePrev?.id">Back</button>
    </div>
    <div class="ml-auto">
      <button type="button" class="btn btn-primary btn-lg" [disabled]="!pageNext" (click)="nextPage()">Next</button>
    </div>
  </div>
  <!-- #/Card Footer -->
</div>
